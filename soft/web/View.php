<?phpnamespace soft\web;use Yii;use soft\widget\ajaxcrud\CrudAsset;use yii\helpers\Html;use yii\web\Session;use yii\web\User;use yii\web\View as YiiView;/** * * @property-read mixed $route * @property-read bool $isAjax * @property-read mixed $request * @property-read mixed $csrfInput * @property-read bool $hasUser Whether the current user is a not guest * @property-read User $user * @property-read Session $session */class View extends YiiView{    use VCTrait;    /**     * @var string Header title for view page. This text appear in layout (before content)     */    public $headerText;    private $_isCrudModalRendered = false;    public function modalBegin($options)    {        if (isBs4()) {            \yii\bootstrap4\Modal::begin($options);        } else {            \yii\bootstrap\Modal::begin($options);        }    }    public function modalEnd()    {        if (isBs4()) {            \yii\bootstrap4\Modal::end();        } else {            \yii\bootstrap\Modal::end();        }    }    public function renderModal($options = [])    {        $this->modalBegin($options);        $this->modalEnd();    }    public function renderCrudModal($options=[])    {        if (!$this->_isCrudModalRendered){            $options =  array_merge( [                "id" => "ajaxCrudModal",                'options' => [                    'class' => 'modal fade',                    'data-keyboard' => "false",                    'data-backdrop' => "static",                ],                "footer" => '',            ], $options);            $this->renderModal($options);            $this->_isCrudModalRendered = true;        }    }    public function registerCrudAsset()    {        CrudAsset::register($this);    }    public function registerAjaxCrudAssets($modalOptions=[])    {        $this->renderCrudModal($modalOptions);        $this->registerCrudAsset();    }    public function getRoute()    {        return Yii::$app->controller->route;    }    public function getCsrfInput()    {        $csrfParam = $this->request->csrfParam;        $csrfToken = $this->request->csrfToken;        return Html::hiddenInput($csrfParam, $csrfToken);    }    /**     * View faylda breadcrumb uchun item qo'shish     * @param string $label     * @param null|string|array $url     */    public function addBreadCrumb($label, $url = null)    {        $this->params['breadcrumbs'][] = ['label' => $label, 'url' => $url];    }    # <editor-fold desc="Request" defaultstate="collapsed">    public function getRequest()    {        return Yii::$app->request;    }    /**     * @return bool     */    public function getIsAjax()    {        return $this->request->isAjax;    }    /**     * @param null $name     * @param null $defaultValue     * @return array|mixed     */    public function post($name = null, $defaultValue = null)    {        return $this->request->post($name, $defaultValue);    }    # </editor-fold>}